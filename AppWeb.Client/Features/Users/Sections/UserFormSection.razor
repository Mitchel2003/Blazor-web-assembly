@using AppWeb.Client.Features.Users.Components
@using AppWeb.Client.Features.Users.Pages
@using AppWeb.Shared.Dtos
@using MudBlazor

<section class="user-form-section mb-8">
    <div class="container mx-auto px-4">
        <FormUser OnValidSubmit="@OnSubmit"
                  Existing="@ViewModel.Existing"
                  Loading="@ViewModel.IsLoading"
                  Success="@ViewModel.SaveSuccess" />
    </div>
</section>

@code {
    [Parameter] public FormUserPageVM ViewModel { get; set; } = default!;
    // Event handler to forward submission to the view model
    private async Task OnSubmit(object payload) { await ViewModel.HandleValidSubmit(payload); }
}