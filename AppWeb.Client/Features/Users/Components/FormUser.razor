@using AppWeb.Shared.Inputs
@using MudBlazor

<MudDialogContent Class="pa-4 min-width-300">
    <MudForm @ref="_form" Model="@CurrentModel">
        <FluentValidator TModel="object" Validator="@CurrentValidator" />
        @if (_isEdit)
        {
            <MudTextField @bind-Value="_updateModel.Username" For="@(() => _updateModel.Username)" Label="Username" Variant="Variant.Outlined" Immediate="true" />
            <MudTextField @bind-Value="_updateModel.Email" For="@(() => _updateModel.Email)" Label="Email" Variant="Variant.Outlined" Immediate="true" />
            <MudTextField @bind-Value="_updateModel.Password" For="@(() => _updateModel.Password)" Label="Password" Variant="Variant.Outlined" InputType="InputType.Password" Immediate="true" />
        }
        else
        {
            <MudTextField @bind-Value="_createModel.Username" For="@(() => _createModel.Username)" Label="Username" Variant="Variant.Outlined" Immediate="true" />
            <MudTextField @bind-Value="_createModel.Email" For="@(() => _createModel.Email)" Label="Email" Variant="Variant.Outlined" Immediate="true" />
            <MudTextField @bind-Value="_createModel.Password" For="@(() => _createModel.Password)" Label="Password" Variant="Variant.Outlined" InputType="InputType.Password" Immediate="true" />
            <MudTextField @bind-Value="_createModel.ConfirmPassword" For="@(() => _createModel.ConfirmPassword)" Label="Confirm Password" Variant="Variant.Outlined" InputType="InputType.Password" Immediate="true" />
        }
    </MudForm>

    <MudDialogActions Class="mt-4">
        <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="SubmitAsync">Save</MudButton>
        <MudButton Variant="Variant.Text" OnClick="Cancel">Cancel</MudButton>
    </MudDialogActions>
</MudDialogContent>